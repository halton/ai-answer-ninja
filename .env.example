# AI Answer Ninja Environment Configuration
# Copy this file to .env and configure your values

# ===========================================
# 应用基础配置
# ===========================================
NODE_ENV=development
LOG_LEVEL=debug

# ===========================================
# 数据库配置
# ===========================================
POSTGRES_PASSWORD=your_secure_postgres_password
REDIS_PASSWORD=your_secure_redis_password

# 开发环境管理工具密码
PGADMIN_PASSWORD=admin123

# ===========================================
# Azure服务配置
# ===========================================

# Azure Communication Services
AZURE_COMMUNICATION_CONNECTION_STRING=endpoint=https://your-communication-service.communication.azure.com/;accesskey=your_access_key

# Azure Speech Services
AZURE_SPEECH_KEY=your_azure_speech_key
AZURE_SPEECH_REGION=eastasia

# Azure OpenAI
AZURE_OPENAI_KEY=your_azure_openai_key  
AZURE_OPENAI_ENDPOINT=https://your-openai-resource.openai.azure.com/

# Azure Text Analytics
AZURE_TEXT_ANALYTICS_KEY=your_text_analytics_key
AZURE_TEXT_ANALYTICS_ENDPOINT=https://your-text-analytics.cognitiveservices.azure.com/

# Azure Storage
AZURE_STORAGE_CONNECTION_STRING=DefaultEndpointsProtocol=https;AccountName=your_storage_account;AccountKey=your_storage_key;EndpointSuffix=core.windows.net

# ===========================================
# 安全配置
# ===========================================

# JWT Configuration
JWT_SECRET=your_very_secure_jwt_secret_key_at_least_32_characters_long
JWT_EXPIRES_IN=1h

# Encryption Keys (生产环境必须更换)
ENCRYPTION_KEY=your_32_character_encryption_key_here
AUDIO_ENCRYPTION_KEY=your_audio_encryption_key_32_chars

# ===========================================
# 邮件服务配置 (用于通知和验证)
# ===========================================
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=noreply@your-domain.com
SMTP_PASS=your_smtp_password

# ===========================================
# 监控和告警配置
# ===========================================

# Webhook for alerts
ALERT_WEBHOOK_URL=https://hooks.slack.com/services/your/slack/webhook

# External monitoring services
ELASTICSEARCH_HOSTS=http://elasticsearch:9200

# ===========================================
# 性能调优配置
# ===========================================

# Redis配置
REDIS_MAX_MEMORY=256mb
REDIS_MAX_CONNECTIONS=100

# PostgreSQL配置
POSTGRES_MAX_CONNECTIONS=200
POSTGRES_SHARED_BUFFERS=256MB
POSTGRES_EFFECTIVE_CACHE_SIZE=1GB

# ===========================================
# 功能开关 (Feature Flags)
# ===========================================
ENABLE_VOICE_CLONING=true
ENABLE_ADVANCED_ANALYTICS=true
ENABLE_ML_PREDICTIONS=false
ENABLE_DEBUG_LOGGING=true

# ===========================================
# 限流和配额配置
# ===========================================
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100
DAILY_CALL_LIMIT=1000
MONTHLY_MINUTES_LIMIT=60000

# ===========================================
# 文件上传配置
# ===========================================
MAX_AUDIO_FILE_SIZE=50MB
MAX_UPLOAD_FILES=10
ALLOWED_AUDIO_FORMATS=wav,mp3,aac,opus

# ===========================================
# 开发环境特定配置
# ===========================================

# 热重载配置
ENABLE_HOT_RELOAD=true
WATCH_FILE_EXTENSIONS=js,ts,json

# 调试配置
DEBUG=ai-ninja:*
ENABLE_REQUEST_LOGGING=true
ENABLE_SQL_LOGGING=false

# ===========================================
# 生产环境特定配置 (仅在.env.production中设置)
# ===========================================

# 域名配置
DOMAIN=your-domain.com
SSL_CERT_PATH=/etc/nginx/ssl/your-domain.crt
SSL_KEY_PATH=/etc/nginx/ssl/your-domain.key

# CDN配置
CDN_URL=https://cdn.your-domain.com
STATIC_ASSETS_URL=https://assets.your-domain.com

# 第三方服务
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# 数据库连接池
DB_POOL_MIN=5
DB_POOL_MAX=50
DB_POOL_IDLE_TIMEOUT=10000

# 缓存配置
CACHE_TTL_DEFAULT=3600
CACHE_TTL_USER_PROFILE=1800
CACHE_TTL_WHITELIST=600