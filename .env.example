# AI Answer Ninja - Environment Configuration
# Copy this file to .env and configure your environment variables

# ===========================================
# Environment and Deployment
# ===========================================
NODE_ENV=development
DEPLOYMENT_STAGE=dev
LOG_LEVEL=info
DEBUG_MODE=false

# ===========================================
# Database Configuration
# ===========================================
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=ai_ninja
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your_secure_postgres_password_here
POSTGRES_URL=postgresql://postgres:your_secure_postgres_password_here@postgres:5432/ai_ninja

# Database Pool Configuration
POSTGRES_POOL_MIN=2
POSTGRES_POOL_MAX=20
POSTGRES_POOL_IDLE_TIMEOUT=30000
POSTGRES_POOL_ACQUIRE_TIMEOUT=60000

# ===========================================
# Redis Configuration
# ===========================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=your_secure_redis_password_here
REDIS_URL=redis://:your_secure_redis_password_here@redis:6379
REDIS_DB=0

# Redis Cache Configuration
REDIS_TTL_SHORT=300        # 5 minutes
REDIS_TTL_MEDIUM=3600      # 1 hour
REDIS_TTL_LONG=86400       # 24 hours

# ===========================================
# Azure Services Configuration
# ===========================================

# Azure Communication Services
AZURE_COMMUNICATION_CONNECTION_STRING=endpoint=https://your-resource.communication.azure.com/;accesskey=your_access_key

# Azure Speech Services
AZURE_SPEECH_KEY=your_azure_speech_service_key
AZURE_SPEECH_REGION=eastus2
AZURE_SPEECH_ENDPOINT=https://eastus2.api.cognitive.microsoft.com/

# Azure OpenAI
AZURE_OPENAI_KEY=your_azure_openai_key
AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com/
AZURE_OPENAI_DEPLOYMENT_NAME=gpt-4
AZURE_OPENAI_API_VERSION=2024-02-15-preview

# Azure Text Analytics
AZURE_TEXT_ANALYTICS_KEY=your_azure_text_analytics_key
AZURE_TEXT_ANALYTICS_ENDPOINT=https://your-resource.cognitiveservices.azure.com/

# Azure Storage
AZURE_STORAGE_CONNECTION_STRING=DefaultEndpointsProtocol=https;AccountName=yourstorageaccount;AccountKey=your_key;EndpointSuffix=core.windows.net
AZURE_STORAGE_CONTAINER_NAME=ai-ninja-audio
AZURE_BLOB_CDN_URL=https://yourstorageaccount.azureedge.net

# ===========================================
# Security Configuration
# ===========================================

# JWT Configuration
JWT_SECRET=your_super_secure_jwt_secret_key_minimum_32_characters
JWT_EXPIRES_IN=1h
JWT_REFRESH_SECRET=your_super_secure_jwt_refresh_secret_key_minimum_32_characters
JWT_REFRESH_EXPIRES_IN=7d

# API Keys for Service-to-Service Communication
API_KEY_SECRET=your_super_secure_api_key_secret_minimum_32_characters
SESSION_SECRET=your_super_secure_session_secret_minimum_32_characters
PASSWORD_RESET_SECRET=your_super_secure_password_reset_secret_minimum_32_characters
EMAIL_VERIFICATION_SECRET=your_super_secure_email_verification_secret_minimum_32_characters

# Encryption Keys
ENCRYPTION_KEY=your_256_bit_encryption_key_exactly_32_characters_long
AUDIO_ENCRYPTION_KEY=your_256_bit_audio_encryption_key_exactly_32_characters
DATA_ENCRYPTION_KEY=your_256_bit_data_encryption_key_exactly_32_characters

# CSRF Protection
CSRF_SECRET=your_csrf_secret_key_minimum_32_characters

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000    # 15 minutes
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_AUTH_MAX_REQUESTS=5

# ===========================================
# Email Configuration (SMTP)
# ===========================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your_email@gmail.com
SMTP_PASS=your_app_password
EMAIL_FROM=noreply@ai-answer-ninja.com
EMAIL_FROM_NAME=AI Answer Ninja

# ===========================================
# Monitoring and Alerting
# ===========================================
ALERT_WEBHOOK_URL=https://hooks.slack.com/services/your/slack/webhook
PROMETHEUS_PORT=9090
GRAFANA_PORT=3000
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=your_secure_grafana_password

# Application Performance Monitoring
APM_SERVER_URL=https://your-apm-server.com
APM_SECRET_TOKEN=your_apm_secret_token

# ===========================================
# Application Specific Configuration
# ===========================================

# AI Configuration
AI_RESPONSE_TIMEOUT=5000       # 5 seconds
AI_MAX_CONVERSATION_DURATION=180 # 3 minutes
AI_CONFIDENCE_THRESHOLD=0.7
AI_MAX_RETRY_ATTEMPTS=3

# Voice Processing
VOICE_QUALITY_THRESHOLD=0.8
AUDIO_CHUNK_SIZE=64            # KB
AUDIO_SAMPLE_RATE=16000        # Hz
AUDIO_BIT_DEPTH=16
AUDIO_CHANNELS=1               # Mono

# Spam Detection
SPAM_RISK_THRESHOLD=0.8
SPAM_AUTO_BLOCK_ENABLED=true
SPAM_LEARNING_ENABLED=true

# Performance Tuning
MAX_CONCURRENT_CALLS=50
PROCESSING_TIMEOUT=30000       # 30 seconds
CACHE_WARM_UP_ENABLED=true
PRELOAD_MODELS=true

# ===========================================
# Feature Flags
# ===========================================
FEATURE_VOICE_CLONING=true
FEATURE_ADVANCED_ANALYTICS=true
FEATURE_REAL_TIME_LEARNING=true
FEATURE_MULTI_LANGUAGE=false
FEATURE_EMOTION_DETECTION=true
FEATURE_CALL_RECORDING=true
FEATURE_GDPR_COMPLIANCE=true

# ===========================================
# Development Tools
# ===========================================
DEV_TOOLS_ENABLED=true
API_DOCS_ENABLED=true
SWAGGER_UI_ENABLED=true
HEALTH_CHECK_ENABLED=true
METRICS_ENABLED=true

# Testing Configuration
TEST_DB_NAME=ai_ninja_test
TEST_REDIS_DB=1
MOCK_AZURE_SERVICES=false
INTEGRATION_TESTS_ENABLED=true

# ===========================================
# Logging Configuration
# ===========================================
LOG_FORMAT=json
LOG_MAX_FILES=10
LOG_MAX_SIZE=10m
LOG_DATE_PATTERN=YYYY-MM-DD

# Audit Logging
AUDIT_LOG_ENABLED=true
AUDIT_LOG_RETENTION_DAYS=365
SECURITY_LOG_ENABLED=true

# ===========================================
# CORS Configuration
# ===========================================
CORS_ORIGINS=http://localhost:3000,http://localhost:8080
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_CREDENTIALS=true

# ===========================================
# SSL/TLS Configuration
# ===========================================
SSL_ENABLED=false
SSL_CERT_PATH=/etc/ssl/certs/server.crt
SSL_KEY_PATH=/etc/ssl/private/server.key
TLS_MIN_VERSION=1.2

# ===========================================
# Backup Configuration
# ===========================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *      # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_ENCRYPTION_ENABLED=true
BACKUP_STORAGE_TYPE=azure_blob  # local, s3, azure_blob

# ===========================================
# Scaling Configuration
# ===========================================
AUTO_SCALING_ENABLED=false
MIN_REPLICAS=1
MAX_REPLICAS=10
CPU_THRESHOLD=70               # Percentage
MEMORY_THRESHOLD=80            # Percentage

# ===========================================
# Regional Configuration
# ===========================================
DEFAULT_TIMEZONE=Asia/Shanghai
DEFAULT_LANGUAGE=zh-CN
SUPPORTED_LANGUAGES=zh-CN,en-US
CURRENCY=CNY

# ===========================================
# Data Retention and Privacy
# ===========================================
DATA_RETENTION_DAYS=365
AUDIO_RETENTION_DAYS=30
LOGS_RETENTION_DAYS=90
GDPR_COMPLIANCE_ENABLED=true
DATA_ANONYMIZATION_ENABLED=true

# ===========================================
# Business Configuration
# ===========================================
FREE_TIER_CALL_LIMIT=100       # Monthly
PREMIUM_TIER_CALL_LIMIT=1000   # Monthly
ENTERPRISE_TIER_CALL_LIMIT=10000 # Monthly

# Pricing (in cents)
COST_PER_MINUTE=10             # 0.10 USD per minute
COST_PER_AI_RESPONSE=5         # 0.05 USD per AI response

# ===========================================
# External Service URLs (for development)
# ===========================================
PHONE_GATEWAY_URL=http://phone-gateway:3001
REALTIME_PROCESSOR_URL=http://realtime-processor:3002
CONVERSATION_ENGINE_URL=http://conversation-engine:3003
PROFILE_ANALYTICS_URL=http://profile-analytics:3004
USER_MANAGEMENT_URL=http://user-management:3005
SMART_WHITELIST_URL=http://smart-whitelist:3006
CONFIGURATION_SERVICE_URL=http://configuration:3007
STORAGE_SERVICE_URL=http://storage:3008
MONITORING_SERVICE_URL=http://monitoring:3009

# ===========================================
# Admin Panel Configuration
# ===========================================
ADMIN_PANEL_URL=http://localhost:5173
ADMIN_PANEL_API_URL=http://localhost:3000/api
ADMIN_PANEL_WEBSOCKET_URL=ws://localhost:3002

# Frontend Build Configuration
VITE_API_BASE_URL=http://localhost:3000/api
VITE_WS_BASE_URL=ws://localhost:3002
VITE_ENABLE_MOCK=false