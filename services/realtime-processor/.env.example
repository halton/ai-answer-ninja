# Real-time Processor Service Environment Configuration

# Server Configuration
PORT=3002
HOST=0.0.0.0
NODE_ENV=development
MAX_CONNECTIONS=1000
CONNECTION_TIMEOUT=30000
REQUEST_TIMEOUT=30000

# Redis Configuration
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your-redis-password
REDIS_DB=1
REDIS_CONNECTION_POOL_SIZE=10

# Security Configuration
JWT_SECRET=your-super-secret-jwt-key-change-in-production
CORS_ORIGINS=http://localhost:3000,https://your-frontend-domain.com
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX=1000
RATE_LIMIT_WEBSOCKET_MAX=100

# Azure Configuration
AZURE_SPEECH_KEY=your-azure-speech-key
AZURE_SPEECH_REGION=eastus2
AZURE_SPEECH_ENDPOINT=https://eastus2.api.cognitive.microsoft.com/
AZURE_OPENAI_API_KEY=your-openai-api-key
AZURE_OPENAI_ENDPOINT=https://your-openai-resource.openai.azure.com/
AZURE_OPENAI_DEPLOYMENT_NAME=gpt-4

# WebSocket Configuration
WS_MAX_CONNECTIONS=1000
WS_HEARTBEAT_INTERVAL=30000
WS_CONNECTION_TIMEOUT=30000
WS_MESSAGE_SIZE_LIMIT=10485760
WS_PING_INTERVAL=25000
WS_PONG_TIMEOUT=5000

# Audio Processing Configuration
AUDIO_SAMPLE_RATE=16000
AUDIO_CHANNELS=1
AUDIO_ENCODING=LINEAR16
AUDIO_CHUNK_SIZE=4096
AUDIO_BUFFER_SIZE=8192
AUDIO_MAX_DURATION=300000
ENABLE_NOISE_REDUCTION=true
ENABLE_ECHO_CANCELLATION=true
ENABLE_AUTOMATIC_GAIN_CONTROL=true

# Performance Configuration
COMPRESSION_ENABLED=true
COMPRESSION_LEVEL=6
COMPRESSION_THRESHOLD=1024
CACHE_ENABLED=true
CACHE_TTL=300
CACHE_MAX_SIZE=1000

# Monitoring Configuration
METRICS_ENABLED=true
METRICS_PORT=9090
HEALTH_CHECK_INTERVAL=30000
LOG_LEVEL=info
ENABLE_TRACING=true
JAEGER_ENDPOINT=http://localhost:14268/api/traces

# WebRTC Configuration
WEBRTC_ENABLE=true
WEBRTC_ICE_SERVERS=stun:stun.l.google.com:19302,stun:stun1.l.google.com:19302
WEBRTC_TURN_SERVER=turn:your-turn-server.com:3478
WEBRTC_TURN_USERNAME=username
WEBRTC_TURN_CREDENTIAL=password
WEBRTC_BITRATE_LIMIT=32000
WEBRTC_AUDIO_CODEC=opus

# Circuit Breaker Configuration
CIRCUIT_BREAKER_ENABLED=true
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
CIRCUIT_BREAKER_RESET_TIMEOUT=60000
CIRCUIT_BREAKER_TIMEOUT=30000

# Service Discovery
SERVICE_DISCOVERY_ENABLED=false
CONSUL_HOST=localhost
CONSUL_PORT=8500
SERVICE_NAME=realtime-processor
SERVICE_TAGS=realtime,audio,websocket

# External Service URLs
PHONE_GATEWAY_URL=http://localhost:3001
CONVERSATION_ENGINE_URL=http://localhost:3003
USER_MANAGEMENT_URL=http://localhost:3005
MONITORING_SERVICE_URL=http://localhost:3009

# FFmpeg Configuration (for audio processing)
FFMPEG_PATH=/usr/bin/ffmpeg
FFPROBE_PATH=/usr/bin/ffprobe
AUDIO_PROCESSING_THREADS=2
ENABLE_HARDWARE_ACCELERATION=false

# Queue Configuration
QUEUE_MAX_SIZE=1000
QUEUE_CONCURRENCY=10
QUEUE_RETRY_ATTEMPTS=3
QUEUE_RETRY_DELAY=1000

# Development/Debug Configuration
DEBUG_WEBSOCKET=false
DEBUG_AUDIO_PROCESSING=false
DEBUG_AZURE_SERVICES=false
SAVE_DEBUG_AUDIO=false
DEBUG_AUDIO_PATH=./debug/audio